# 發現的重複內容

## 重複章節

### 1. 模型管理系統（第 7 節重複）
- **行 1587-1811**：新版本（模型打包策略）
- **行 1812-2258**：原有內容（模型載入策略）
- **解決方案**：合併為單一章節，包含打包和載入策略

### 2. 部署和發布（第 10 節重複）  
- **行 2399-2458**：COOP/COEP 部署手冊
- **行 2459-2523**：NPM 發布配置（原有內容）
- **解決方案**：合併為完整的部署章節

### 3. 開發路線圖（第 10 節衝突）
- **行 2853**：另一個第 10 節（開發路線圖）
- **解決方案**：移至附錄或專案管理文件

### 4. 技術挑戰（第 10 節衝突）
- **行 2885**：又一個第 10 節（技術挑戰）
- **解決方案**：整合到故障排除章節

## 內容重複

### 1. 執行模式管理
- **第 2.3 節**：執行模式管理器（行 320-517）
- **第 4.1 節**：執行模式管理器（行 1173-1209）
- **內容**：幾乎相同的執行模式檢測和降級邏輯
- **解決方案**：保留第 2.3 節的詳細版本，第 4.1 節改為引用

### 2. Provider 介面定義
- **行 899**：ASRProvider 介面定義
- **行 920-993**：WebSpeechProvider 實作
- **行 996-1105**：WhisperProvider 實作（新增）
- **行 1108-1169**：串流模式差異說明（新增）
- **解決方案**：合併到單一 Provider 章節

### 3. 配置系統
- **第 5 節**：配置系統（行 1290-1427）
- **第 7.1 節**：模型載入配置（行 1814-1916）
- **重疊**：都包含模型路徑和載入配置
- **解決方案**：統一配置系統，模型配置作為子節

### 4. 瀏覽器兼容性
- **第 2.3-2.5**：執行模式和能力檢測
- **第 15 節**：瀏覽器兼容性矩陣
- **第 17 節**：診斷 API
- **重疊**：都涉及能力檢測
- **解決方案**：整合為完整的兼容性章節

### 5. Worker 架構
- **第 11 節**：Worker 整合架構（行 2524-2718）
- **多處提及**：VAD Worker、Whisper Worker 等
- **解決方案**：統一 Worker 架構說明

## 建議的新結構

```
1. 概覽
   - 專案介紹
   - 核心理念
   - 隱私分級
   - 快速開始

2. 架構設計
   - 系統架構
   - 技術棧
   - 狀態機設計
   - 事件流

3. 核心組件
   - FSM 狀態機
   - AudioQueue
   - BufferManager
   - Store（SolidJS）

4. 服務層
   - 執行模式管理
   - Audio Services
   - VAD Service
   - Wake Word Service
   - Model Manager
   - Worker Architecture

5. Provider 系統
   - Provider 介面
   - Web Speech Provider
   - Whisper Provider
   - 串流 vs 批次處理

6. 配置管理
   - 配置系統
   - 預設配置
   - 模型配置
   - 執行時配置

7. 部署指南
   - COOP/COEP 配置
   - CSP 政策
   - CDN 策略
   - NPM 發布
   - 瀏覽器兼容性

8. 開發指南
   - 開發環境設置
   - 測試策略
   - 性能優化
   - 調試技巧

9. 故障排除
   - 診斷 API
   - 常見問題
   - 技術挑戰
   - 效能基準

10. API 參考
    - 公開 API
    - 配置選項
    - 事件列表
    - 型別定義
    - 參數驗證（VAD等）

附錄
   - 開發路線圖
   - 安全聲明
   - 授權資訊
   - 更新日誌
```